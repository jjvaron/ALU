LIBRARY IEEE;
USE ieee.std_logic_1164.all;
USE ieee.numeric_std.all;
-----------------------------------------------------------
ENTITY multiplicador IS
   PORT(   A          :  IN    STD_LOGIC_VECTOR(7 DOWNTO 0);
           B          :  IN    STD_LOGIC_VECTOR(7 DOWNTO 0);
           product_out:  OUT   STD_LOGIC_VECTOR(15 DOWNTO 0));
END ENTITY multiplicador;
-----------------------------------------------------------
ARCHITECTURE functional OF multiplicador IS
   SIGNAL  i:=0,j      : integer;
	SIGNAL  product  : STD_LOGIC_VECTOR(15 DOWNTO 0);
BEGIN 

bucle1: FOR i IN 1 TO 8 LOOP
           j:=0;
       bucle2: LOOP
         IF (B[j] = '1') THEN
			    product <= A + product;
			ELSE
			    A <= shift_left(unsigned(A),1);
				 B <= shift_right(unsigned(B),1);
         END IF;
			
       END LOOP bucle2;
     END LOOP bucle1;
	  
	  product_out <= product;
END ARCHITECTURE functional;